<div>
    <!-- Form to send a new message -->
    <form (submit)="postMessage(selectedDoctorId, messageText)">
        <div class="form-group">
            <label for="doctor">Select Doctor:</label>
            <select id="doctor" [(ngModel)]="selectedDoctorId" name="doctor" class="form-control">
                <!-- Replace with dynamic doctor list -->
                <option *ngFor="let doctor of doctors" [value]="doctor.id">{{ doctor.name }}</option>
            </select>
        </div>

        <div class="form-group">
            <label for="message">Message:</label>
            <textarea id="message" [(ngModel)]="messageText" name="message" class="form-control"></textarea>
        </div>

        <button type="submit" class="btn btn-primary">Send Message</button>
    </form>

    <!-- Section to display previous messages -->

    <h3>Previous Messages</h3>
    <ul class="list-group">
        <li *ngFor="let message of messages" class="list-group-item">
                <!-- Display the message -->
            <div *ngIf="editingMessageId !== message.id">
                <p><strong>Message:</strong> {{ message.message }}</p>
                    <!-- <p><strong>To Doctor:</strong> {{ message.doctor_name }}</p> -->
                    <!-- Buttons to edit and delete messages -->
                <button (click)="startEditMessage(message)" class="btn btn-secondary btn-sm">Edit</button>
                <button (click)="deleteMessage(message.id)" class="btn btn-danger btn-sm">Delete</button>
            </div>
                <!-- Form to edit the message -->
            <div *ngIf="editingMessageId === message.id">
                <textarea [(ngModel)]="editingText" class="form-control"></textarea>
                <button (click)="submitEditMessage()" class="btn btn-success btn-sm">Save Changes</button>
                <button (click)="cancelEdit()" class="btn btn-warning btn-sm">Cancel</button>
            </div>
        </li>
    </ul>
